<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EXE Analyzer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>üî¨ EXE Analyzer</h1>
    <p class="subtitle">Automatically analyzes downloaded executables with AI</p>
    
    <div class="section settings-section">
      <div class="toggle-row">
        <span class="toggle-label">Gemini Mode</span>
        <label class="toggle-switch">
          <input type="checkbox" id="geminiModeToggle">
          <span class="toggle-slider"></span>
        </label>
      </div>
      <p class="toggle-description" id="modeDescription">Using LLM4Decompile + Gemini</p>
    </div>
    
    <div class="section">
      <h2>‚è≥ Analyzing</h2>
      <div id="analyzingList">
        <p class="no-downloads">No files being analyzed</p>
      </div>
      <button id="clearAnalyzingBtn" class="danger-btn small-btn">Clear Stuck Jobs</button>
    </div>
    
    <div class="section">
      <h2>‚úÖ Completed</h2>
      <div id="completedList">
        <p class="no-downloads">No completed analyses</p>
      </div>
      <button id="clearCompletedBtn" class="danger-btn">Clear History</button>
    </div>

    <div class="section settings-section">
      <h2>‚öôÔ∏è Status</h2>
      <p class="info-text">
        <strong>Server:</strong> <span id="serverStatus">Checking...</span>
      </p>
      <p class="info-text">
        <strong>File Access:</strong> <span id="fileAccessStatus">Checking...</span>
      </p>
      <button id="openDashboardBtn" class="primary-btn">Open Dashboard</button>
    </div>

    <div class="section help-section" id="fileAccessHelp" style="display: none;">
      <h2>üìÅ Enable File Access</h2>
      <p class="help-text">To analyze downloaded files directly:</p>
      <ol class="help-steps">
        <li>Go to <code>chrome://extensions</code></li>
        <li>Find "EXE Analyzer" and click <strong>Details</strong></li>
        <li>Enable <strong>"Allow access to file URLs"</strong></li>
      </ol>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html>
